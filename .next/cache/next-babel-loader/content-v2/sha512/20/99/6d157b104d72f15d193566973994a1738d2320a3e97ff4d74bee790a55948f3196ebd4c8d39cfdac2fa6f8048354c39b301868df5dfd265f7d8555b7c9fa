{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction WeatherRenderProps(props) {\n  const weatherAPIKey = \"1862033e825e661a5f9d18c2ede377cb\";\n  const weatherURL = \"http://api.openweathermap.org/data/2.5/weather?zip=47401&appid=\" + weatherAPIKey;\n  const {\n    0: isLoading,\n    1: setIsloading\n  } = useState(false);\n  const {\n    0: wthr,\n    1: setWthr\n  } = useState({\n    bloomingtonWthr: [],\n    louisvilleWthr: [],\n    pasadenaWthr: []\n  });\n  const {\n    0: cityData,\n    1: setCityData\n  } = useState({});\n\n  const fetchData = () => {\n    const bloomingtonURL = \"http://api.openweathermap.org/data/2.5/weather?zip=47401&appid=\" + weatherAPIKey;\n    const louisvilleURL = \"http://api.openweathermap.org/data/2.5/weather?zip=40202&appid=\" + weatherAPIKey;\n    const pasadenaURL = \"http://api.openweathermap.org/data/2.5/weather?zip=91001&appid=\" + weatherAPIKey;\n    Promise.all([axios.get(bloomingtonURL), axios.get(louisvilleURL), axios.get(pasadenaURL)]).then(results => {\n      setWthr({\n        bloomingtonWthr: results[0].data.main,\n        louisvilleWthr: results[1].data.main,\n        pasadenaWthr: results[2].data.main\n      });\n      setIsloading(false);\n      setCityData(results);\n    }).catch(err => {\n      setIsloading(true);\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    setIsloading(true);\n    fetchData();\n  }, []);\n  var keys = Object.keys(wthr);\n  var rows = [];\n  var names = [];\n  var weatherCondition = [];\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    rows.push(wthr[key]);\n  }\n\n  for (var i = 0; i < cityData.length; i++) {\n    names.push(cityData[i].data.name);\n    weatherCondition.push(cityData[i].data.weather[0].description);\n  }\n\n  return props.children({\n    rows: rows,\n    names: names,\n    weatherCondition: weatherCondition,\n    isLoading: isLoading\n  });\n}\n\nexport default WeatherRenderProps;","map":{"version":3,"sources":["C:/Users/jheinrich/Desktop/learningReact/src/components/WeatherCard/WeatherRenderProps.js"],"names":["useState","useEffect","axios","WeatherRenderProps","props","weatherAPIKey","weatherURL","isLoading","setIsloading","wthr","setWthr","bloomingtonWthr","louisvilleWthr","pasadenaWthr","cityData","setCityData","fetchData","bloomingtonURL","louisvilleURL","pasadenaURL","Promise","all","get","then","results","data","main","catch","err","console","log","keys","Object","rows","names","weatherCondition","i","length","key","push","name","weather","description","children"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction WeatherRenderProps(props) {\r\n    const weatherAPIKey = \"1862033e825e661a5f9d18c2ede377cb\";\r\n    const weatherURL = \"http://api.openweathermap.org/data/2.5/weather?zip=47401&appid=\" + weatherAPIKey;\r\n\r\n    const [isLoading, setIsloading] = useState(false);\r\n    const [wthr, setWthr] = useState({\r\n        bloomingtonWthr: [],\r\n        louisvilleWthr: [],\r\n        pasadenaWthr: []\r\n    })\r\n\r\n    const [cityData, setCityData] = useState({});\r\n\r\n    const fetchData = () => {\r\n        const bloomingtonURL = \"http://api.openweathermap.org/data/2.5/weather?zip=47401&appid=\" + weatherAPIKey;\r\n        const louisvilleURL = \"http://api.openweathermap.org/data/2.5/weather?zip=40202&appid=\" + weatherAPIKey;\r\n        const pasadenaURL = \"http://api.openweathermap.org/data/2.5/weather?zip=91001&appid=\" + weatherAPIKey;\r\n\r\n        Promise.all([\r\n            axios.get(bloomingtonURL),\r\n            axios.get(louisvilleURL),\r\n            axios.get(pasadenaURL)\r\n        ]).then((results) => {       \r\n            setWthr({\r\n              bloomingtonWthr: results[0].data.main,\r\n              louisvilleWthr: results[1].data.main,\r\n              pasadenaWthr: results[2].data.main\r\n            });\r\n\r\n            setIsloading(false);\r\n\r\n            setCityData(results);\r\n              \r\n          })\r\n          .catch((err) => {\r\n            setIsloading(true);\r\n            console.log(err);\r\n          });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setIsloading(true);\r\n        fetchData();\r\n    }, [])\r\n\r\n\r\n    var keys = Object.keys(wthr);\r\n    var rows = [];\r\n    var names = [];\r\n    var weatherCondition = [];\r\n\r\n    for (var i = 0; i < keys.length; i++) { \r\n        var key = (keys[i]);\r\n        rows.push(wthr[key]);\r\n    }\r\n\r\n    for (var i = 0; i < cityData.length; i++) {\r\n        names.push(cityData[i].data.name);\r\n        weatherCondition.push(cityData[i].data.weather[0].description);\r\n    }\r\n\r\n    return props.children({\r\n        rows: rows,\r\n        names: names,\r\n        weatherCondition: weatherCondition,\r\n        isLoading: isLoading\r\n    });\r\n}\r\n\r\nexport default WeatherRenderProps;"]},"metadata":{},"sourceType":"module"}