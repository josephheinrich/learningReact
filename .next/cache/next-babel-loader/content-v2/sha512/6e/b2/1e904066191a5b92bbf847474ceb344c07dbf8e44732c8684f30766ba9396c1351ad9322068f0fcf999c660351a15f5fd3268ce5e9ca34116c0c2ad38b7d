{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction WeatherRenderProps(props) {\n  var weatherAPIKey = \"1862033e825e661a5f9d18c2ede377cb\";\n  var weatherURL = \"http://api.openweathermap.org/data/2.5/weather?zip=47401&appid=\" + weatherAPIKey;\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsloading = _useState[1];\n\n  var _useState2 = useState({\n    bloomingtonWthr: [],\n    louisvilleWthr: [],\n    pasadenaWthr: []\n  }),\n      wthr = _useState2[0],\n      setWthr = _useState2[1];\n\n  var _useState3 = useState({}),\n      cityData = _useState3[0],\n      setCityData = _useState3[1];\n\n  var fetchData = function fetchData() {\n    var bloomingtonURL = \"http://api.openweathermap.org/data/2.5/weather?zip=47401&appid=\" + weatherAPIKey;\n    var louisvilleURL = \"http://api.openweathermap.org/data/2.5/weather?zip=40202&appid=\" + weatherAPIKey;\n    var pasadenaURL = \"http://api.openweathermap.org/data/2.5/weather?zip=91001&appid=\" + weatherAPIKey;\n    Promise.all([axios.get(bloomingtonURL), axios.get(louisvilleURL), axios.get(pasadenaURL)]).then(function (results) {\n      setWthr({\n        bloomingtonWthr: results[0].data.main,\n        louisvilleWthr: results[1].data.main,\n        pasadenaWthr: results[2].data.main\n      });\n      setIsloading(false);\n      setCityData(results);\n    })[\"catch\"](function (err) {\n      setIsloading(true);\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    setIsloading(true);\n    fetchData();\n  }, []);\n  var keys = Object.keys(wthr);\n  var rows = [];\n  var names = [];\n  var weatherCondition = [];\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    rows.push(wthr[key]);\n  }\n\n  for (var i = 0; i < cityData.length; i++) {\n    names.push(cityData[i].data.name);\n    weatherCondition.push(cityData[i].data.weather[0].description);\n  }\n\n  return props.children({\n    rows: rows,\n    names: names,\n    weatherCondition: weatherCondition,\n    isLoading: isLoading\n  });\n}\n\nexport default WeatherRenderProps;","map":null,"metadata":{},"sourceType":"module"}